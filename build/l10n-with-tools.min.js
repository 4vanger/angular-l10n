/*!
 * l10n-angular 0.1.0 2013-03-25
 * Copyright 2013 Andrew Kulinich. Released under the MIT license
 */
(function(){var t=[].slice;angular.module("l10n",[]).provider("l10n",{db:{},add:function(t){var n,r,e;e=[];for(n in t)r=t[n],"get"===n&&(n="."+n),e.push(this.db[n]=r);return e},$get:function(){return this.db.get=function(){var n,r,e;if(n=arguments[0],r=arguments.length>=2?t.call(arguments,1):[],"get"===n&&(n="."+n),e=this[n],null==e)return n;for(;"@"===e.charAt(0)&&this[e.substr(1)]!==void 0;)e=this[e.substr(1)];e.length>=2&&"\\"===e.charAt(0)&&"@"===e.charAt(1)&&(e=e.substr(1));for(var l=0;r.length>l;l++)e=e.replace(RegExp("%"+(l+1)+"([^\\d]|$)","g"),r[l]+"$1");return e},this.db}})}).call(this),function(){var t,n;t=function(t,n,r,e){var l,u;if(null!=n){l=r.split(":");for(var i=1;l.length>i;i++)try{expr=l[i],l[i]=t.$eval(expr)||"",+function(i){t.$watch(expr,function(t){l[i]=t||"",u=n.get.apply(n,l),null!=u&&(r=u),e(r)})}(i)}catch(c){console.log(c),l[i]=""}u=n.get.apply(n,l),null!=u&&(r=u)}return e(r)},n=angular.module("l10n-tools",["l10n"]).directive("l10nHtml",["l10n",function(n){return{restrict:"A",link:function(r,e,l){return t(r,n,l.l10nHtml,function(t){return e.html(t)})}}}]).directive("l10nText",["l10n",function(n){return{restrict:"A",link:function(r,e,l){return t(r,n,l.l10nText,function(t){return e.text(t)})}}}]),angular.forEach(["title","placeholder","href"],function(r){var e;return e="l10n"+r.charAt(0).toUpperCase()+r.substr(1),n.directive(e,["l10n",function(n){return{restrict:"A",link:function(l,u,i){return t(l,n,i[e],function(t){return u.attr(r,t)})}}}])})}.call(this);