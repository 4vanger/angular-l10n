/*!
 * l10n-angular 0.1.0 2013-03-25
 * Copyright 2013 Andrew Kulinich. Released under the MIT license
 */
(function(){var t=[].slice;angular.module("l10n",[]).provider("l10n",{db:{},add:function(t){return t.get!==void 0&&(t.$get=t.get,delete t.get),angular.extend(this.db,t)},$get:function(){return this.db.get=function(){var n,r,e,l,u,i,c,a;for(n=arguments[0],i=arguments.length>=2?t.call(arguments,1):[],e=n,"get"===n&&(n="$"+n),l=this;n.indexOf(".")>0;){if(a=n.split(".",2),n=a[0],u=a[1],void 0===l[n])return e;l=l[n],n=u}if(c=l[n],null==c)return e;for(;"@"===c.charAt(0);)r=this.get(c.substr(1)),r!==void 0&&(c=r);c.length>=2&&"\\"===c.charAt(0)&&"@"===c.charAt(1)&&(c=c.substr(1));for(var o=0;i.length>o;o++)c=c.replace(RegExp("%"+(o+1)+"([^\\d]|$)","g"),i[o]+"$1");return c},this.db}})}).call(this),function(){var t,n;t=function(t,n,r,e){var l,u;if(null!=n){l=r.split(":");for(var i=1;l.length>i;i++)try{var c=l[i];l[i]=t.$eval(c)||"",+function(i){t.$watch(c,function(t){l[i]=t||"",u=n.get.apply(n,l),null!=u&&(r=u),e(r)})}(i)}catch(a){l[i]=""}u=n.get.apply(n,l),null!=u&&(r=u)}return e(r)},n=angular.module("l10n-tools",["l10n"]).directive("l10nHtml",["l10n",function(n){return{restrict:"A",link:function(r,e,l){return t(r,n,l.l10nHtml,function(t){return e.html(t)})}}}]).directive("l10nText",["l10n",function(n){return{restrict:"A",link:function(r,e,l){return t(r,n,l.l10nText,function(t){return e.text(t)})}}}]),angular.forEach(["title","placeholder","href"],function(r){var e;return e="l10n"+r.charAt(0).toUpperCase()+r.substr(1),n.directive(e,["l10n",function(n){return{restrict:"A",link:function(l,u,i){return t(l,n,i[e],function(t){return u.attr(r,t)})}}}])})}.call(this);