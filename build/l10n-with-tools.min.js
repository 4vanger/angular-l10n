/*!
 * l10n-angular 0.1.0 2013-05-17
 * Copyright 2013 Andrew Kulinich. Released under the MIT license
 */
(function(){var t=[].slice;angular.module("l10n",["ngLocale"]).provider("l10n",{db:{},localeMessages:{},add:function(t,e){var n,r,a;for(r=0,a=e.length;a>r;r++)n=e[r],angular.isFunction(this.db[method])&&(e["$"+n]=e[n],delete e[n]);return this.localeMessages[t]===void 0&&(this.localeMessages[t]={}),angular.extend(this.localeMessages[t],e)},setLocale:function(t){var e;for(e in this.db)angular.isFunction(this.db[e])||delete this.db[e];return angular.extend(this.db,this.localeMessages[t])},$get:["$rootScope","$locale",function(e,n){var r=this;return this.setLocale(n.id),this.db.getAllLocales=function(){return r.localeMessages},this.db.setLocale=function(t){return n.id=t,r.setLocale(t),e.$broadcast("l10n-locale",t)},this.db.getLocale=function(){return n.id},this.db.get=function(){var e,n,r,a,s,l,i,o;for(e=arguments[0],i=arguments.length>=2?t.call(arguments,1):[],r=e,angular.isFunction(this[e])&&(e="$"+e),a=this;(s=e.indexOf("."))>0;){if(l=e.substr(s+1),e=e.substr(0,s),void 0===a[e])return r;a=a[e],e=l}if(o=a[e],null==o)return r;if("string"==typeof o){for(;"@"===o.charAt(0);)n=this.get(o.substr(1)),n!==void 0&&(o=n);o.length>=2&&"\\"===o.charAt(0)&&"@"===o.charAt(1)&&(o=o.substr(1));for(var u=0;i.length>u;u++)o=o.replace(RegExp("%"+(u+1)+"([^\\d]|$)","g"),i[u]+"$1")}return o},this.db}]})}).call(this),function(){var t,e,n=[].slice;t=function(t,e,n,r){var a,s;a=n.split(":"),s=function(){var t;return t=e.get.apply(e,a),null!==t&&(n=t),r(n)};for(var l=1;a.length>l;l++)try{var i=a[l];a[l]=t.$eval(i)||"",+function(e){t.$watch(i,function(t){a[e]=t||"",s()})}(l)}catch(o){a[l]=""}return t.$on("l10n-locale",s),s()},e=angular.module("l10n-tools",["l10n"]),angular.forEach(["text","html","title","placeholder","href","value"],function(n){var r;return r="l10n"+n.charAt(0).toUpperCase()+n.substr(1),e.directive(r,["l10n",function(e){return{restrict:"A",priority:90,link:function(a,s,l){var i;switch(n){case"html":i=function(t){return s.html(t)};break;case"text":i=function(t){return s.text(t)};break;default:i=i=function(t){return s.attr(n,t)}}return t(a,e,l[r],i)}}}])}),e.filter("l10n",["l10n",function(t){return function(){var e,r;return e=arguments[0],r=arguments.length>=2?n.call(arguments,1):[],t.get.apply(t,arguments)}}])}.call(this);