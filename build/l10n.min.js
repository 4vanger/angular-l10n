/*!
 * l10n-angular 0.1.1 2014-07-27
 * Copyright 2013-2014 Andrew Kulinich. Released under the MIT license
 */
(function(){var t=[].slice;angular.module("l10n",["ngLocale"]).provider("l10n",{db:{},locale:null,localeMessages:{},transform:null,add:function(t,e){var s,l,n;for(this.transform&&(e=this.transform(t,e)),l=0,n=e.length;n>l;l++)s=e[l],angular.isFunction(this.db[method])&&(e["$"+s]=e[s],delete e[s]);return this.localeMessages[t]===void 0&&(this.localeMessages[t]={}),angular.extend(this.localeMessages[t],e)},setLocale:function(t){var e;this.locale=t;for(e in this.db)angular.isFunction(this.db[e])||delete this.db[e];return angular.extend(this.db,this.localeMessages[t])},$get:["$rootScope","$locale",function(e,s){var l=this;return this.locale&&(s.id=this.locale),this.setLocale(s.id),this.db.getAllLocales=function(){return l.localeMessages},this.db.setLocale=function(t){return null==t&&(t=s.id),s.id=t,l.setLocale(t),e.$broadcast("l10n-locale",t)},this.db.getLocale=function(){return s.id},this.db.get=function(){var e,s,l,n,r,a,i,o;if(e=arguments[0],i=arguments.length>=2?t.call(arguments,1):[],!e)return"";for(l=e,angular.isFunction(this[e])&&(e="$"+e),n=this;(r=e.indexOf("."))>0;){if(a=e.substr(r+1),e=e.substr(0,r),void 0===n[e])return l;n=n[e],e=a}if(o=n[e],null==o)return l;if("string"==typeof o){for(;"@"===o.charAt(0);)s=this.get(o.substr(1)),s!==void 0&&(o=s);o.length>=2&&"\\"===o.charAt(0)&&"@"===o.charAt(1)&&(o=o.substr(1));for(var c=0;i.length>c;c++)o=o.replace(RegExp("%"+(c+1)+"([^\\d]|$)","g"),i[c]+"$1")}return o},this.db}]})}).call(this);