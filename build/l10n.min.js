/*!
 * l10n-angular 0.1.1 2015-06-29
 * Copyright 2013-2014 Andrew Kulinich. Released under the MIT license
 */
(function(){var a=[].slice;angular.module("l10n",["ngLocale"]).provider("l10n",{db:{},locale:null,localeMessages:{},transform:null,add:function(a,b){var c,d,e;for(this.transform&&(b=this.transform(a,b)),d=0,e=b.length;e>d;d++)c=b[d],angular.isFunction(this.db[method])&&(b["$"+c]=b[c],delete b[c]);return"undefined"==typeof this.localeMessages[a]&&(this.localeMessages[a]={}),angular.extend(this.localeMessages[a],b)},setLocale:function(a){var b;this.locale=a;for(b in this.db)angular.isFunction(this.db[b])||delete this.db[b];return angular.extend(this.db,this.localeMessages[a])},$get:["$rootScope","$locale",function(b,c){var d=this;return this.locale&&(c.id=this.locale),this.setLocale(c.id),this.db.getAllLocales=function(){return d.localeMessages},this.db.setLocale=function(a){return c.id=a,d.setLocale(a),b.$broadcast("l10n-locale",a)},this.db.getLocale=function(){return c.id},this.db.get=function(){var b,c,d,e,f,g,h,i;if(b=arguments[0],h=2<=arguments.length?a.call(arguments,1):[],!b)return"";for(d=b,angular.isFunction(this[b])&&(b="$"+b),e=this;(f=b.indexOf("."))>0;){if(g=b.substr(f+1),b=b.substr(0,f),"undefined"==typeof e[b])return d;e=e[b],b=g}if(i=e[b],null==i&&(i=d),"string"==typeof i){for(;"@"===i.charAt(0);)c=this.get(i.substr(1)),"undefined"!=typeof c&&(i=c);i.length>=2&&"\\"===i.charAt(0)&&"@"===i.charAt(1)&&(i=i.substr(1));for(var j=0;j<h.length;j++)i=i.replace(new RegExp("%"+(j+1)+"([^\\d]|$)","g"),h[j]+"$1")}return i},this.db}]})}).call(this);